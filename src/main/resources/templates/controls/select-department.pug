//- first call on component
if departments == null
    mixin select-department(name, value, prefix)
        .field
            .control
                label.label(for=name) Department
                .select.is-fullwidth
                    select(id=name, name=name
                        hx-get=(prefix ?? "")+"/departments/options?defaultValue="+(value ?? 0)
                        hx-trigger="load" hx-swap="innerHTML" hx-target="closest select")
else if departments != null
    option(value=0) --Choose--
    each dep in departments
        if dep.id == defaultValue
            option(value=dep.id selected)= dep.name
        else
            option(value=dep.id)= dep.name
